/* =========================================================
   PIP-BOY BASE STYLES
   ========================================================= */

body {
  background: black;
  font-family: monospace;
  color: #00ff66;
  display: flex;
  justify-content: center;
  margin-top: 40px;
  text-shadow: 0 0 2px #00ff66, 0 0 6px rgba(0, 255, 102, 0.6);
}

/* Main Pip-Boy container */
#pipboy {
  width: 600px;
  padding: 20px;
  border: 2px solid #00ff66;
  position: relative; /* required for CRT overlay */
  box-shadow: 0 0 10px #00ff66, 0 0 25px rgba(0, 255, 102, 0.4);
  animation: flicker 3s infinite;
}

/* =========================================================
   SCREEN VISIBILITY & PANELS
   ========================================================= */

.screen {
  display: none;
}

.screen.active {
  display: block;
}

/* Generic ‚Äúterminal box‚Äù panel */
.pipboy-panel {
  margin: 20px auto;
  width: 90%;
  max-width: 600px;
  padding: 10px;
  border: 1px solid #00ff66;
  box-shadow: 0 0 15px #00ff66 inset;
  background-color: #001a00;
  font-family: "Courier New", monospace;
  color: #00ff66;
  position: relative;
}

.pipboy-title {
  text-align: center;
  margin-bottom: 10px;
}

/* =========================================================
   HEADER / TABS
   ========================================================= */

header {
  display: flex;
  justify-content: space-around;
  margin-bottom: 20px;
}

.tab {
  cursor: pointer;
  opacity: 0.5;
}

.tab.active {
  opacity: 1;
  text-shadow: 0 0 10px #00ff66;
}

/* =========================================================
   STAT BARS
   ========================================================= */

.stat {
  margin-bottom: 15px;
}

.stat label {
  display: block;
  margin-bottom: 4px;
}

.bar {
  background: #003300;
  height: 20px;
  overflow: hidden;
}

.bar div {
  height: 100%;
  background: #00ff66;
  width: 0%;
  transition: width 0.5s;
  filter: blur(0.3px); /* slight blur to soften edges (CRT look) */
}

.small {
  font-size: 0.8em;
}

/* =========================================================
   DATA TABS (if you use them)
   ========================================================= */

#data-tabs button {
  background: none;
  border: 1px solid #00ff66;
  color: #00ff66;
  margin-right: 5px;
  cursor: pointer;
}

/* =========================================================
   TERMINAL BOX (Logs container)
   ========================================================= */

#logs-container {
  height: 250px;
  overflow-y: auto;
  font-family: "Courier New", monospace;
  font-size: 0.95rem;
  line-height: 1.2rem;
  color: #00ff66;
  background-color: #001a00;
  padding: 10px;
  border: 1px solid #00ff66;
  box-shadow: 0 0 15px #00ff66 inset;
  white-space: pre-wrap;
  word-break: break-word;
  max-width: 100%;
}

.log-entry {
  margin-bottom: 6px;
  text-indent: 4px;
  letter-spacing: 0.5px;
}

/* =========================================================
   INVENTORY LIST
   ========================================================= */

#inv-path {
  margin-bottom: 10px;
  font-size: 0.8em;
  opacity: 0.8;
}

#inv-list,
#log-list {
  list-style: none;
  padding: 0;
  margin-top: 10px;
}

#inv-list li,
#log-list li {
  padding: 6px;
  cursor: pointer;
}

#inv-list li:hover,
#log-list li:hover {
  background: rgba(0, 255, 102, 0.15);
}

#inv-list li.folder::before {
  content: "üìÅ ";
}

#inv-list li.file::before {
  content: "üìÑ ";
}

#log-content {
  background: rgba(0, 0, 0, 0.6);
  padding: 10px;
  margin-top: 10px;
  white-space: pre-wrap;
  border: 1px solid #00ff66;
}

/* =========================================================
   QUESTS CONTAINERS (Active + Archived)
   IMPORTANT: These are the ‚Äúboxes‚Äù
   ========================================================= */

/* Active quests box */
#quests-container {
  height: 250px;
  overflow-y: auto;
  font-family: "Courier New", monospace;
  font-size: 0.95rem;
  line-height: 1.2rem;
  color: #00ff66;
  background-color: #001a00;
  padding: 10px;
  border: 1px solid #00ff66;
  box-shadow: 0 0 15px #00ff66 inset;
  white-space: pre-wrap;
  word-break: break-word;

  display: flex;
  flex-direction: column;
  gap: 18px;
}

/* Archived quests box (same style, dimmer) */
#quests-archived {
  margin-top: 10px;

  height: 180px;
  overflow-y: auto;

  font-family: "Courier New", monospace;
  font-size: 0.95rem;
  line-height: 1.2rem;
  color: #00ff66;

  background-color: #001a00;
  padding: 10px;
  border: 1px solid rgba(0, 255, 102, 0.65);
  box-shadow: 0 0 15px rgba(0, 255, 102, 0.35) inset;

  display: flex;
  flex-direction: column;
  gap: 18px;

  opacity: 0.65;
}

/* =========================================================
   QUEST CARDS (Fallout-style)
   ========================================================= */

.quest-card {
  border: 1px solid rgba(0, 255, 102, 0.65);
  padding: 14px 16px;
  background: rgba(0, 0, 0, 0.25);
}

#quests-archived .quest-card {
  border-color: rgba(0, 255, 102, 0.35);
}

.quest-title {
  font-weight: 700;
  margin-bottom: 2px;
}

.quest-status {
  margin-bottom: 2px;
  opacity: 0.95;
}

.quest-status .label {
  opacity: 0.85;
}

.quest-status .value {
  font-weight: 700;
}

.quest-status .value.active {
  opacity: 1;
}

.quest-status .value.inactive {
  opacity: 0.75;
}

.quest-status .value.completed {
  opacity: 0.9;
}

.quest-desc {
  margin-bottom: 10px;
  opacity: 0.9;
}

/* Objectives list: no default bullets; we draw our own */
.quest-objectives {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* Each objective line */
.quest-objective {
  display: flex;
  align-items: baseline;
  gap: 10px;
  padding: 2px 0;
  cursor: pointer;
  user-select: none;
}

/* Pip-Boy bullet dot */
.quest-objective::before {
  content: "‚Ä¢";
  display: inline-block;
  width: 14px;
  opacity: 0.9;
}

/* Checkbox area */
.obj-mark {
  display: inline-block;
  width: 22px;
  opacity: 0.95;
}

.obj-mark::before {
  content: "[ ]";
}

/* Completed objective look */
.quest-objective.completed {
  opacity: 0.55;
}

.quest-objective.completed .obj-mark::before {
  content: "[‚úì]";
}

.quest-objective.completed .obj-text {
  text-decoration: line-through;
}

/* Whole quest completed */
.quest-card.quest-completed {
  opacity: 0.65;
}

.quest-card.quest-completed .quest-title {
  opacity: 0.85;
}

/* Keyboard focus (accessible) */
.quest-objective:focus {
  outline: 1px solid rgba(0, 255, 102, 0.7);
  outline-offset: 2px;
}

/* =========================================================
   CRT EFFECTS
   ========================================================= */

/* Scanlines overlay */
#pipboy::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(0, 255, 102, 0.07),
    rgba(0, 255, 102, 0.07) 1px,
    rgba(0, 0, 0, 0) 2px
  );
  mix-blend-mode: overlay;
  animation: scanlines 0.4s linear infinite;
}

/* Archived quests box (same terminal style, dimmer) */
#quests-archived {
  margin-top: 10px;
  height: 180px;
  overflow-y: auto;

  background-color: #001a00;
  padding: 10px;
  border: 1px solid rgba(0, 255, 102, 0.65);
  box-shadow: 0 0 15px rgba(0, 255, 102, 0.35) inset;

  display: flex;
  flex-direction: column;
  gap: 18px;

  opacity: 0.65;
}


/* Screen noise */
#pipboy::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'>\
    <filter id='n'>\
      <feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4'/>\
    </filter>\
    <rect width='100%' height='100%' filter='url(%23n)' opacity='0.04'/>\
  </svg>");
  animation: noise 0.6s infinite;
}

/* =========================================================
   ANIMATIONS
   ========================================================= */

@keyframes scanlines {
  from { background-position: 0 0; }
  to { background-position: 0 6px; }
}

@keyframes flicker {
  0% { opacity: 1; }
  2% { opacity: 0.85; }
  4% { opacity: 1; }
  6% { opacity: 0.9; }
  8% { opacity: 1; }
  100% { opacity: 1; }
}

@keyframes noise {
  from { transform: translate(0, 0); }
  to { transform: translate(1px, -1px); }
}
