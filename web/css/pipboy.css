/* =========================================================
   PIP-BOY BASE STYLES
   ========================================================= */

body {
  background: black;
  font-family: monospace;
  color: #00ff66;
  display: flex;
  justify-content: center;
  margin-top: 40px;

  /* Global CRT text glow */
  text-shadow:
    0 0 2px #00ff66,
    0 0 6px rgba(0, 255, 102, 0.6);
}

/* Main Pip-Boy container */
#pipboy {
  width: 600px;
  padding: 20px;
  border: 2px solid #00ff66;

  position: relative; /* REQUIRED for CRT overlay */
  
  /* CRT glow */
  box-shadow:
    0 0 10px #00ff66,
    0 0 25px rgba(0, 255, 102, 0.4);

  /* Flicker animation */
  animation: flicker 3s infinite;
}
/* =========================================================
   SCREEN VISIBILITY CONTROL
   ========================================================= */

.screen {
  display: none;
}

.screen.active {
  display: block;
}


/* =========================================================
   HEADER / TABS
   ========================================================= */

header {
  display: flex;
  justify-content: space-around;
  margin-bottom: 20px;
}

.tab {
  cursor: pointer;
  opacity: 0.5;
}

.tab.active {
  opacity: 1;
  text-shadow: 0 0 10px #00ff66;
}

/* =========================================================
   STAT BARS
   ========================================================= */

.stat {
  margin-bottom: 15px;
}

.stat label {
  display: block;
  margin-bottom: 4px;
}

.bar {
  background: #003300;
  height: 20px;
  overflow: hidden;
}

.bar div {
  height: 100%;
  background: #00ff66;
  width: 0%;
  transition: width 0.5s;

  /* Slight blur to soften edges (CRT look) */
  filter: blur(0.3px);
}

.small {
  font-size: 0.8em;
}

/* =========================================================
   CRT SCANLINES OVERLAY
   ========================================================= */

#pipboy::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;

  /* Horizontal scanlines */
  background: repeating-linear-gradient(
    to bottom,
    rgba(0, 255, 102, 0.07),
    rgba(0, 255, 102, 0.07) 1px,
    rgba(0, 0, 0, 0) 2px
  );

  /* Blend scanlines with content */
  mix-blend-mode: overlay;

  /* Slow vertical movement */
  animation: scanlines 0.4s linear infinite;
}

/* Scanline movement */
@keyframes scanlines {
  from { background-position: 0 0; }
  to   { background-position: 0 6px; }
}

/* =========================================================
   CRT FLICKER (VISIBLE)
   ========================================================= */

@keyframes flicker {
  0%   { opacity: 1; }
  2%   { opacity: 0.85; }
  4%   { opacity: 1; }
  6%   { opacity: 0.9; }
  8%   { opacity: 1; }
  100% { opacity: 1; }
}

/* =========================================================
   INVENTORY FILE LIST
   ========================================================= */

#inv-path {
  margin-bottom: 10px;
  font-size: 0.8em;
  opacity: 0.8;
}

#inv-list {
  list-style: none;
  padding: 0;
}

#inv-list li {
  padding: 6px;
  cursor: pointer;
}

#inv-list li:hover {
  background: rgba(0, 255, 102, 0.15);
}

/* Folder icon */
#inv-list li.folder::before {
  content: "üìÅ ";
}

/* File icon */
#inv-list li.file::before {
  content: "üìÑ ";
}

/* =========================================================
   DATA: LOGS & QUESTS
   ========================================================= */

#data-tabs button {
  background: none;
  border: 1px solid #00ff66;
  color: #00ff66;
  margin-right: 5px;
  cursor: pointer;
}

#log-list {
  list-style: none;
  padding: 0;
  margin-top: 10px;
}

#log-list li {
  cursor: pointer;
  padding: 4px;
}

#log-list li:hover {
  background: rgba(0, 255, 102, 0.15);
}

#log-content {
  background: rgba(0, 0, 0, 0.6);
  padding: 10px;
  margin-top: 10px;
  white-space: pre-wrap;
  border: 1px solid #00ff66;
}

.quest {
  border: 1px solid #00ff66;
  padding: 8px;
  margin-top: 10px;
}

/* =========================
   QUEST LIST STYLES
   ========================= */

#quest-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Individual quest card */
.quest {
  border: 1px solid #00ff66;
  padding: 10px;
  background: rgba(0, 255, 102, 0.05);
}

/* Completed quest visual */
.quest.completed {
  opacity: 0.4;
  text-decoration: line-through;
}

/* Quest title */
.quest h3 {
  margin: 0 0 6px 0;
  font-size: 1.1rem;
}

/* Objective list */
.quest ul {
  margin: 0;
  padding-left: 18px;
}

/* Checkbox */
.quest input[type="checkbox"] {
  margin-right: 6px;
}

/* =========================================================
   OPTIONAL: SCREEN NOISE (VERY SUBTLE)
   ========================================================= */

#pipboy::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;

  background-image: url("data:image/svg+xml;utf8,\
  <svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'>\
    <filter id='n'>\
      <feTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4'/>\
    </filter>\
    <rect width='100%' height='100%' filter='url(%23n)' opacity='0.04'/>\
  </svg>");

  animation: noise 0.6s infinite;
}

@keyframes noise {
  from { transform: translate(0,0); }
  to   { transform: translate(1px,-1px); }
}
